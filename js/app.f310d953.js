(function(t){function r(r){for(var s,a,i=r[0],u=r[1],c=r[2],l=0,p=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);d&&d(r);while(p.length)p.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,r=0;r<n.length;r++){for(var e=n[r],s=!0,i=1;i<e.length;i++){var u=e[i];0!==o[u]&&(s=!1)}s&&(n.splice(r--,1),t=a(a.s=e[0]))}return t}var s={},o={app:0},n=[];function a(r){if(s[r])return s[r].exports;var e=s[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=s,a.d=function(t,r,e){a.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,r){if(1&r&&(t=a(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var s in t)a.d(e,s,function(r){return t[r]}.bind(null,s));return e},a.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(r,"a",r),r},a.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=r,i=i.slice();for(var c=0;c<i.length;c++)r(i[c]);var d=u;n.push([0,"chunk-vendors"]),e()})({0:function(t,r,e){t.exports=e("56d7")},"56d7":function(t,r,e){"use strict";e.r(r);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),o=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{attrs:{id:"app"}},[e("main-header"),e("router-view"),e("main-footer")],1)},n=[],a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("header",{staticClass:"main-header"},[e("div",{staticClass:"main-header__wrapper"},[e("h1",{staticClass:"main-header__title"},[t._v("this is a header")]),e("nav",{staticClass:"main-header__nav"},[e("router-link",{attrs:{to:"/"}},[t._v("list")])],1)]),e("hr")])},i=[],u={name:"Header",data:function(){return{}}},c=u,d=e("2877"),l=Object(d["a"])(c,a,i,!1,null,null,null),p=l.exports,m=function(){var t=this,r=t.$createElement;t._self._c;return t._m(0)},f=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("footer",{staticClass:"main-footer"},[e("div",{staticClass:"main-footer__wrapper"},[e("hr"),e("h2",{staticClass:"main-footer__title"},[t._v("This is a footer")])])])}],h={},v=Object(d["a"])(h,m,f,!1,null,null,null),_=v.exports,N={name:"App",components:{"main-header":p,"main-footer":_}},y=N,C=(e("5c0b"),Object(d["a"])(y,o,n,!1,null,null,null)),g=C.exports,b=e("8c4f"),w=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"order"},[e("div",{staticClass:"order__wrapper"},[e("h1",{staticClass:"order__title"},[t._v("Страница списка заказов")]),e("table",{attrs:{border:"1",width:"100%",cellpadding:"5"}},[e("tr",[e("th",{staticClass:"sort",on:{click:function(r){return t.sortById()}}},[t._v("ID")]),e("th",{staticClass:"sort",on:{click:function(r){return t.sortByName()}}},[t._v("Имя и Фамилия")]),e("th",{staticClass:"sort",on:{click:function(r){return t.sortByPhone()}}},[t._v("Номер телефона")]),e("th",{staticClass:"sort",on:{click:function(r){return t.sortByCost()}}},[t._v("Стоимость заказа")]),e("th",{staticClass:"sort",on:{click:function(r){return t.sortByProduct()}}},[t._v("Товары заказа")]),e("th",{staticClass:"sort",on:{click:function(r){return t.sortByStatus()}}},[t._v(" Статуc заказа")]),e("th")]),t._l(t.list,(function(r,s){return e("tr",{key:s},[e("th",[t._v(t._s(r.id))]),e("th",[t._v(t._s(t.fullName(r)))]),e("th",[t._v(t._s(r.phone))]),e("th",[t._v(" "+t._s(t.orderCost(r))+" ")]),e("th",t._l(r.products,(function(r,s){return e("span",{key:s},[t._v(" "+t._s(r.productName)+" ")])})),0),e("th",[t._v(" "+t._s(t.orderStatus(r))+" ")]),e("th",[e("button",{on:{click:function(e){return t.goToDetails(r.id)}}},[t._v("Редактировать")])])])}))],2),e("br"),e("div",{staticClass:"search"},[e("h3",{staticClass:"search__title"},[t._v("поиск")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputStr,expression:"inputStr"}],staticClass:"search",attrs:{type:"text"},domProps:{value:t.inputStr},on:{keyup:t.sortArray,input:function(r){r.target.composing||(t.inputStr=r.target.value)}}})])])])},x=[],S=(e("4de4"),e("4160"),e("caad"),e("b0c0"),e("2532"),e("159b"),[{id:"1",firstName:"Igor",lastName:"Izh",phone:"+1513332154",products:[{productName:"product1"},{productName:"product3"}]},{id:"2",firstName:"Vadim",lastName:"Zero",phone:"+5133515353",products:[{productName:"product1"},{productName:"product2"}]},{id:"3",firstName:"Mary",lastName:"Li",phone:"+8816355113",products:[{productName:"product2"},{productName:"product3"}]}]),k=[{name:"product1",cost:"500"},{name:"product2",cost:"1000"},{name:"product3",cost:"1500"}],P=[{id:"1",status:"обработка"},{id:"2",status:"заблокирован"},{id:"3",status:"выполнен"},{id:"4",status:"выполнен"}],O={name:"OrderList",components:{},data:function(){return{name:"test",orders:[],products:[],statuses:[],inputStr:"",list:[]}},created:function(){this.orders=S,this.products=k,this.statuses=P,this.list=this.orders},methods:{fullName:function(t){return t.firstName.toUpperCase()+" "+t.lastName.toUpperCase()},orderCost:function(t){var r=this,e=0;return t.products.forEach((function(t){for(var s=0;s<r.products.length;s++)t.productName==r.products[s].name&&(e+=parseInt(r.products[s].cost))})),e},orderStatus:function(t){for(var r=0;r<this.statuses.length;r++)if(this.statuses[r].id==t.id)return this.statuses[r].status;return!1},goToDetails:function(t){this.$router.push({name:"order",params:{Pid:t}})},sortById:function(){this.orders=this.orders.sort((function(t,r){return t.id>r.id?1:t.id<r.id?-1:0}))},sortByName:function(){this.orders=this.orders.sort((function(t,r){return t.firstName>r.firstName?1:t.firstName<r.firstName?-1:0}))},sortByPhone:function(){this.orders=this.orders.sort((function(t,r){return t.phone>r.phone?1:t.phone<r.phone?-1:0}))},sortByCost:function(){var t=this;this.orders=this.orders.sort((function(r,e){return t.orderCost(r)>t.orderCost(e)?1:t.orderCost(r)<t.orderCost(e)?-1:0}))},sortByProduct:function(){this.orders=this.orders.sort((function(t,r){return t.products[0].productName>r.products[0].productName?1:t.products[0].productName<r.products[0].productName?-1:t.products[1].productName>r.products[1].productName?1:t.products[1].productName<r.products[1].productName?1:0}))},sortByStatus:function(){var t=this;this.orders=this.orders.sort((function(r,e){return t.orderStatus(r)>t.orderStatus(e)?1:t.orderStatus(r)<t.orderStatus(e)?-1:0}))},sortArray:function(){var t=this;this.list=this.orders.filter((function(r){return r.id.includes(t.inputStr)||r.phone.includes(t.inputStr)||r.firstName.toUpperCase().includes(t.inputStr)||r.lastName.toUpperCase().includes(t.inputStr)||r.firstName.toLowerCase().includes(t.inputStr)||r.lastName.toLowerCase().includes(t.inputStr)}))}}},B=O,$=(e("6040"),Object(d["a"])(B,w,x,!1,null,"5891eec0",null)),j=$.exports,E=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"order"},[t._m(0),t._l(t.orders,(function(r,s){return e("div",{key:s,staticClass:"order__item"},[t.proId==r.id?e("div",{},[e("form",{staticClass:"order__form"},[e("input",{directives:[{name:"model",rawName:"v-model",value:r.firstName,expression:"product.firstName"}],staticClass:"order__input order__input--firstName",attrs:{type:"text"},domProps:{value:r.firstName},on:{input:function(e){e.target.composing||t.$set(r,"firstName",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:r.lastName,expression:"product.lastName"}],staticClass:"order__input order__input--lastName",attrs:{type:"text"},domProps:{value:r.lastName},on:{input:function(e){e.target.composing||t.$set(r,"lastName",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:r.phone,expression:"product.phone"}],staticClass:"order__input order__input--phone",attrs:{type:"text"},domProps:{value:r.phone},on:{input:function(e){e.target.composing||t.$set(r,"phone",e.target.value)}}}),t._l(r.products,(function(r,s){return e("span",{key:s},[e("input",{directives:[{name:"model",rawName:"v-model",value:r.productName,expression:"item.productName"}],staticClass:"order__input",attrs:{type:"text"},domProps:{value:r.productName},on:{input:function(e){e.target.composing||t.$set(r,"productName",e.target.value)}}})])})),e("input",{staticClass:"order__input",attrs:{type:"text"},domProps:{value:t.currentCost(r.products)}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.statuses[r.id].status,expression:"statuses[product.id].status"}],staticClass:"order__input",attrs:{type:"text"},domProps:{value:t.statuses[r.id].status},on:{input:function(e){e.target.composing||t.$set(t.statuses[r.id],"status",e.target.value)}}}),e("button",{on:{click:function(r){return r.preventDefault(),t.sendData(r)}}},[t._v("Сохранить")])],2)]):t._e()])})),t.errors.length?e("p",[e("b",[t._v("Пожалуйста исправьте указанные ошибки:")]),e("ul",t._l(t.errors,(function(r,s){return e("li",{key:s},[t._v(t._s(r))])})),0)]):t._e()],2)},I=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"order__wrapper"},[e("h1",{staticClass:"order__title"},[t._v("Страница заказа")])])}],D=(e("498a"),{name:"order",components:{},data:function(){return{orders:[],products:[],statuses:[],errors:[],proId:null}},created:function(){this.orders=S,this.products=k,this.statuses=P,this.proId=this.$route.params.Pid},methods:{currentStatus:function(t){this.statuses.forEach((function(r,e){if(r.id==t)return e}))},currentCost:function(t){var r=this,e=0;return t.forEach((function(t){for(var s=0;s<r.products.length;s++)t.productName==r.products[s].name&&(e+=parseInt(r.products[s].cost))})),e},checkForm:function(t){var r=this,e=null;return this.orders.forEach((function(t,s){t.id==r.proId&&(e=s)})),!!(this.orders[e].firstName.trim()&&this.orders[e].lastName.trim()&&this.orders[e].phone.trim())||(this.errors=[],this.orders[e].firstName.trim()||(this.errors.push("Укажите имя"),this.alertField(document.getElementsByClassName("order__input--firstName")[0])),this.orders[e].lastName.trim()||(this.errors.push("Укажите фамилию"),this.alertField(document.getElementsByClassName("order__input--lastName")[1])),this.orders[e].phone.trim()||(this.errors.push("Укажите номер"),this.alertField(document.getElementsByClassName("order__input--phone")[0])),t.preventDefault(),!1)},alertField:function(t){t.style.border="1px solid red",setTimeout((function(){t.style.border="1px solid black"}),3e3)},sendData:function(t){if(this.checkForm(t)){for(var r=null,e=0;e<this.orders.length;e++)this.proId==this.orders[e].id&&(r=e);this.axios.post("/someurl",this.orders[r]).then((function(t){window.console.log(t)})).catch((function(t){window.console.log(t)}))}}}}),T=D,F=(e("94f0"),Object(d["a"])(T,E,I,!1,null,null,null)),M=F.exports;s["a"].use(b["a"]);var L=[{path:"/",name:"Orderlist",component:j},{path:"/order/:Pid",name:"order",component:M}],U=new b["a"]({mode:"history",base:"/",routes:L}),A=U,J=e("2f62");s["a"].use(J["a"]);var z=new J["a"].Store({state:{},mutations:{},actions:{},modules:{}}),H=e("bc3a"),V=e.n(H),Z=e("a7fe"),q=e.n(Z);s["a"].use(q.a,V.a),s["a"].config.productionTip=!1,new s["a"]({router:A,store:z,render:function(t){return t(g)}}).$mount("#app")},"5c0b":function(t,r,e){"use strict";var s=e("9c0c"),o=e.n(s);o.a},6040:function(t,r,e){"use strict";var s=e("d12f"),o=e.n(s);o.a},7936:function(t,r,e){},"94f0":function(t,r,e){"use strict";var s=e("7936"),o=e.n(s);o.a},"9c0c":function(t,r,e){},d12f:function(t,r,e){}});
//# sourceMappingURL=app.f310d953.js.map